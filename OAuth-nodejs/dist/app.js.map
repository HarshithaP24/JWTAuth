{"version":3,"sources":["../src/app.js"],"names":["app","use","bodyParser","json","type","urlencoded","extended","listen","console","log","clientId","clientSecret","get","req","res","reqToken","query","code","method","url","headers","accept","then","response","accessToken","data","access_token","redirect","express","static","__dirname"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,MAAM,wBAAZ;AACAA,IAAIC,GAAJ,CAAQC,qBAAWC,IAAX,CAAgB,EAACC,MAAM,kBAAP,EAAhB,CAAR;AACAJ,IAAIC,GAAJ,CAAQC,qBAAWG,UAAX,CAAsB,EAACC,UAAU,IAAX,EAAtB,CAAR;AACAN,IAAIO,MAAJ,CAAW,IAAX,EAAiB,YAAI;AACjBC,YAAQC,GAAR;AACH,CAFD;;AAKA,IAAMC,WAAW,sBAAjB;AACA,IAAMC,eAAe,0CAArB;;AAEAX,IAAIY,GAAJ,CAAQ,iBAAR,EAA0B,UAACC,GAAD,EAAKC,GAAL,EAAa;AACnCN,YAAQC,GAAR,CAAY,eAAZ,EAA4BI,GAA5B;AACA,QAAME,WAAWF,IAAIG,KAAJ,CAAUC,IAA3B,CAFmC,CAEF;AACjC,yBAAM;AACF;AACAC,gBAAO,MAFL;AAGFC,wEAA6DT,QAA7D,uBAAuFC,YAAvF,cAA4GI,QAH1G;AAIFK,iBAAQ;AACJC,oBAAO;AADH;AAJN,KAAN,EAOGC,IAPH,CAOQ,UAACC,QAAD,EAAc;AAClBf,gBAAQC,GAAR,CAAY,gBAAZ,EAA6Bc,QAA7B;AACA,YAAMC,cAAcD,SAASE,IAAT,CAAcC,YAAlC,CAFkB,CAE8B;AAChDZ,YAAIa,QAAJ,iCAA2CH,WAA3C;AACH,KAXD;AAYH,CAfD;;AAkBAxB,IAAIC,GAAJ,CAAQ2B,kBAAQC,MAAR,CAAeC,YAAY,SAA3B,CAAR;;kBAEe9B,G","file":"app.js","sourcesContent":["import express from \"express\";\r\nimport bodyParser from \"body-parser\";\r\nimport axios from \"axios\";\r\n\r\nconst app = express();\r\napp.use(bodyParser.json({type: 'application/json'}));\r\napp.use(bodyParser.urlencoded({extended: true}));\r\napp.listen(8080, ()=>{\r\n    console.log(`Server is listening to http://localhost:8080`);\r\n})\r\n\r\n\r\nconst clientId = \"715f0caf454d59870f3b\";\r\nconst clientSecret = \"f501f836db90882735282480fe60d4880714e68d\";\r\n\r\napp.get(\"/oauth/redirect\",(req,res) => {\r\n    console.log(\"check the req\",req);\r\n    const reqToken = req.query.code; // receives the authroization-code in the requestBody when the redirect url is called\r\n    axios({\r\n        //making a post request to github authorization server to get the access token.\r\n        method:\"post\",\r\n        url:`https://github.com/login/oauth/access_token?client_id=${clientId}&client_secret=${clientSecret}&code=${reqToken}`,\r\n        headers:{\r\n            accept:\"application/json\",\r\n        },\r\n    }).then((response) => {\r\n        console.log(\"check response\",response);\r\n        const accessToken = response.data.access_token; // received an access token with which u can access the protected resource\r\n        res.redirect(`/welcome.html?access_token=${accessToken}`);\r\n    });\r\n});\r\n\r\n\r\napp.use(express.static(__dirname + \"/public\"));\r\n\r\nexport default app;"]}